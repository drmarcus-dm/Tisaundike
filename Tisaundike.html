<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tisaundike — Let Your Sound Rise</title>
  <meta name="description" content="Tisaundike: Create playlists, upload music, earn from streams. Blantyre-born. Malawian-powered.">
  
  <!-- Tailwind CSS -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <!-- Inter Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

  <style>
    :root {
      --green: #1DB954;
      --dark: #121212;
      --card: #1f1f1f;
      --text: #ffffff;
      --gray: #b3b3b3;
    }
    body {
      font-family: 'Inter', sans-serif;
      background: var(--dark);
      color: var(--text);
      line-height: 1.6;
      overflow-x: hidden;
    }
    .gradient-hero {
      background: linear-gradient(135deg, #1DB954 0%, #0a3d1e 50%, #121212 100%);
    }
    .btn-primary {
      @apply bg-[#1DB954] text-black font-bold px-6 py-3 rounded-full hover:bg-[#1ed760] transition transform hover:scale-105;
    }
    .btn-outline {
      @apply border-2 border-[#1DB954] text-[#1DB954] font-bold px-6 py-3 rounded-full hover:bg-[#1DB954] hover:text-black transition transform hover:scale-105;
    }
    .btn-sm {
      @apply text-sm px-3 py-1 rounded-full;
    }
    .card {
      @apply bg-[#1f1f1f] p-5 rounded-xl hover:bg-[#2a2a2a] transition-all duration-300 cursor-pointer transform hover:-translate-y-1 shadow-lg border border-gray-800;
    }
    .nav-link {
      @apply text-white hover:text-[#1DB954] font-medium transition;
    }
    .hidden { display: none; }
    .fade-in { animation: fadeIn 0.6s ease-in-out; }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .pulse-green { animation: pulse 2s infinite; }
    @keyframes pulse {
      0%, 100% { box-shadow: 0 0 0 0 rgba(29, 185, 84, 0.4); }
      70% { box-shadow: 0 0 0 10px rgba(29, 185, 84, 0); }
    }
    .founder-img {
      border: 3px solid #1DB954;
      box-shadow: 0 0 20px rgba(29, 185, 84, 0.3);
    }
    .modal {
      @apply fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-6;
    }
    .modal-content {
      @apply bg-[#1f1f1f] p-8 rounded-2xl w-full max-w-md shadow-2xl border border-gray-700;
    }
  </style>
</head>
<body class="min-h-screen">

  <!-- Navigation -->
  <nav class="fixed top-0 w-full bg-black bg-opacity-95 backdrop-blur-lg z-50 border-b border-gray-800">
    <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
      <h1 class="text-2xl font-bold text-[#1DB954] flex items-center">
        <i class="fas fa-music mr-2"></i> Tisaundike
      </h1>
      <div class="flex items-center space-x-8">
        <a href="#" onclick="showPage('home')" class="nav-link">Home</a>
        <a href="#" onclick="showPage('search')" class="nav-link">Search</a>
        <a href="#" id="dashboard-link" onclick="showDashboard()" class="nav-link hidden">Dashboard</a>
        <a href="#" onclick="showPage('login')" id="login-link" class="nav-link">Login</a>
        <a href="#" onclick="showPage('register')" id="register-link" class="nav-link hidden">Register</a>
        <a href="#" onclick="logout()" id="logout-link" class="nav-link hidden text-red-400 flex items-center">
          <i class="fas fa-sign-out-alt mr-1"></i> Logout
        </a>
      </div>
    </div>
  </nav>

  <!-- Page Container -->
  <div id="page-container" class="pt-20">

    <!-- Home Page -->
    <div id="home" class="page fade-in">
      <!-- Hero -->
      <section class="gradient-hero py-24 text-center relative overflow-hidden">
        <div class="absolute inset-0 opacity-10">
          <div class="absolute top-10 left-10 w-64 h-64 bg-green-400 rounded-full blur-3xl animate-pulse"></div>
          <div class="absolute bottom-10 right-10 w-80 h-80 bg-green-600 rounded-full blur-3xl animate-pulse delay-1000"></div>
        </div>
        <div class="max-w-5xl mx-auto px-6 relative z-10">
          <h1 class="text-5xl md:text-7xl font-extrabold mb-6 leading-tight">
            Let Your <span class="text-[#1ed760]">Sound</span><br>
            <span class="text-white">Rise</span>
          </h1>
          <p class="text-xl md:text-2xl mb-10 text-gray-200 max-w-3xl mx-auto leading-relaxed">
            Tisaundike — <em>"Let it sound"</em> in Chichewa. A platform born in Blantyre to empower Malawian creators. 
            Stream. Upload. Earn. Own your voice.
          </p>
          <div class="flex flex-col sm:flex-row gap-6 justify-center">
            <button onclick="showPage('register')" class="btn-primary text-lg">
              <i class="fas fa-headphones mr-2"></i> Start Listening
            </button>
            <button onclick="showPage('register')" class="btn-outline text-lg">
              <i class="fas fa-microphone mr-2"></i> Become a Creator
            </button>
          </div>
        </div>
      </section>

      <!-- Top Tracks -->
      <section class="py-20 bg-[#121212]">
        <div class="max-w-7xl mx-auto px-6">
          <h2 class="text-4xl font-bold mb-12 text-center">Top Tracks This Week</h2>
          <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
            <!-- Track 1 -->
            <div class="card group" onclick="playTrack('Cigarette', 'Onesimus', 'https://via.placeholder.com/300x300/1DB954/000000?text=Cigarette', 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3')">
              <div class="relative">
                <img src="https://via.placeholder.com/300x300/1DB954/000000?text=Cigarette" alt="Cigarette" class="w-full h-48 object-cover rounded-lg mb-4">
                <button onclick="event.stopPropagation(); showAddToPlaylistModal('Cigarette', 'Onesimus', 'https://via.placeholder.com/300x300/1DB954/000000?text=Cigarette', 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3')" class="absolute top-2 right-2 bg-black bg-opacity-70 p-2 rounded-full opacity-0 group-hover:opacity-100 transition">
                  <i class="fas fa-plus text-white"></i>
                </button>
              </div>
              <h3 class="font-bold text-lg">Cigarette</h3>
              <p class="text-sm text-gray-400">Onesimus • 89.2K streams</p>
            </div>
            <!-- Track 2 -->
            <div class="card group" onclick="playTrack('Ayi (Bad Energy)', '6th Mw ft. Brainlock T-kas', 'https://via.placeholder.com/300x300/FF4B6B/000000?text=Ayi', 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3')">
              <div class="relative">
                <img src="https://via.placeholder.com/300x300/FF4B6B/000000?text=Ayi" alt="Ayi (Bad Energy)" class="w-full h-48 object-cover rounded-lg mb-4">
                <button onclick="event.stopPropagation(); showAddToPlaylistModal('Ayi (Bad Energy)', '6th Mw ft. Brainlock T-kas', 'https://via.placeholder.com/300x300/FF4B6B/000000?text=Ayi', 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3')" class="absolute top-2 right-2 bg-black bg-opacity-70 p-2 rounded-full opacity-0 group-hover:opacity-100 transition">
                  <i class="fas fa-plus text-white"></i>
                </button>
              </div>
              <h3 class="font-bold text-lg">Ayi (Bad Energy)</h3>
              <p class="text-sm text-gray-400">6th Mw ft. Brainlock T-kas • 72.5K streams</p>
            </div>
            <!-- Track 3 -->
            <div class="card group" onclick="playTrack('Lonjezo', 'Hyphen ft. Saint', 'https://via.placeholder.com/300x300/4B6BFF/000000?text=Lonjezo', 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3')">
              <div class="relative">
                <img src="https://via.placeholder.com/300x300/4B6BFF/000000?text=Lonjezo" alt="Lonjezo" class="w-full h-48 object-cover rounded-lg mb-4">
                <button onclick="event.stopPropagation(); showAddToPlaylistModal('Lonjezo', 'Hyphen ft. Saint', 'https://via.placeholder.com/300x300/4B6BFF/000000?text=Lonjezo', 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3')" class="absolute top-2 right-2 bg-black bg-opacity-70 p-2 rounded-full opacity-0 group-hover:opacity-100 transition">
                  <i class="fas fa-plus text-white"></i>
                </button>
              </div>
              <h3 class="font-bold text-lg">Lonjezo</h3>
              <p class="text-sm text-gray-400">Hyphen ft. Saint • 105K streams</p>
            </div>
            <!-- Track 4 -->
            <div class="card group" onclick="playTrack('Ndife', 'Rashley', 'https://via.placeholder.com/300x300/FFD700/000000?text=Ndife', 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3')">
              <div class="relative">
                <img src="https://via.placeholder.com/300x300/FFD700/000000?text=Ndife" alt="Ndife" class="w-full h-48 object-cover rounded-lg mb-4">
                <button onclick="event.stopPropagation(); showAddToPlaylistModal('Ndife', 'Rashley', 'https://via.placeholder.com/300x300/FFD700/000000?text=Ndife', 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3')" class="absolute top-2 right-2 bg-black bg-opacity-70 p-2 rounded-full opacity-0 group-hover:opacity-100 transition">
                  <i class="fas fa-plus text-white"></i>
                </button>
              </div>
              <h3 class="font-bold text-lg">Ndife</h3>
              <p class="text-sm text-gray-400">Rashley • 64.8K streams</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Founder -->
      <section class="py-20 bg-gradient-to-b from-[#121212] to-black">
        <div class="max-w-6xl mx-auto px-6 text-center">
          <h2 class="text-4xl font-bold mb-12">Built with Love in Blantyre</h2>
          <div class="flex flex-col md:flex-row items-center justify-center gap-10">
            <img src="https://via.placeholder.com/200x200/1DB954/000000?text=Dynamite" alt="Dynamité Mw" class="w-48 h-48 rounded-full object-cover founder-img pulse-green">
            <div class="text-left max-w-lg">
              <h3 class="text-2xl font-bold text-[#1DB954] mb-3">Dynamité Mw</h3>
              <p class="text-lg text-gray-300 mb-4">
                <em>"Every playlist tells a story. Every artist deserves a stage. Tisaundike is for the dreamers of Blantyre and beyond."</em>
              </p>
              <p class="text-gray-400">
                Founder & CEO • Blantyre, Malawi<br>
                <a href="#" class="text-[#1DB954] hover:underline">@dynamitemw</a> on X
              </p>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- Register Page -->
    <div id="register" class="page hidden">
      <div class="flex items-center justify-center min-h-screen bg-gradient-to-br from-[#121212] to-[#0a0a0a]">
        <div class="bg-[#1f1f1f] p-10 rounded-2xl w-full max-w-md shadow-2xl border border-gray-800">
          <h1 class="text-3xl font-bold mb-8 text-[#1DB954] text-center">
            <i class="fas fa-user-plus mr-2"></i> Join Tisaundike
          </h1>
          <form onsubmit="register(event)" class="space-y-5">
            <input type="text" id="reg-name" placeholder="Your Name" required class="w-full p-4 bg-gray-900 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#1DB954]">
            <input type="email" id="reg-email" placeholder="Email Address" required class="w-full p-4 bg-gray-900 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#1DB954]">
            <input type="password" id="reg-password" placeholder="Create Password" required class="w-full p-4 bg-gray-900 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#1DB954]">
            <div class="flex gap-6 text-white text-sm">
              <label class="flex items-center">
                <input type="radio" name="role" value="listener" checked class="mr-2"> 
                <i class="fas fa-headphones mr-1"></i> Listener
              </label>
              <label class="flex items-center">
                <input type="radio" name="role" value="creator" class="mr-2"> 
                <i class="fas fa-microphone mr-1"></i> Creator
              </label>
            </div>
            <button type="submit" class="w-full btn-primary text-lg font-bold">
              Create Account
            </button>
          </form>
          <p class="mt-6 text-center text-gray-400">
            Already have an account? 
            <a href="#" onclick="showPage('login')" class="text-[#1DB954] hover:underline font-medium">Login</a>
          </p>
        </div>
      </div>
    </div>

    <!-- Login Page -->
    <div id="login" class="page hidden">
      <div class="flex items-center justify-center min-h-screen bg-gradient-to-br from-[#121212] to-[#0a0a0a]">
        <div class="bg-[#1f1f1f] p-10 rounded-2xl w-full max-w-md shadow-2xl border border-gray-800">
          <h1 class="text-3xl font-bold mb-8 text-[#1DB954] text-center">
            <i class="fas fa-sign-in-alt mr-2"></i> Welcome Back
          </h1>
          <form onsubmit="login(event)" class="space-y-5">
            <input type="email" id="login-email" placeholder="Email" required class="w-full p-4 bg-gray-900 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#1DB954]">
            <input type="password" id="login-password" placeholder="Password" required class="w-full p-4 bg-gray-900 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#1DB954]">
            <button type="submit" class="w-full btn-primary text-lg font-bold">
              Login
            </button>
          </form>
          <p class="mt-6 text-center text-gray-400">
            No account? 
            <a href="#" onclick="showPage('register')" class="text-[#1DB954] hover:underline font-medium">Register</a>
          </p>
        </div>
      </div>
    </div>

    <!-- Creator Dashboard -->
    <div id="creator-dashboard" class="page hidden">
      <div class="container mx-auto p-6 max-w-6xl">
        <h2 class="text-4xl font-bold mb-8">Welcome back, <span id="creator-name" class="text-[#1DB954]">Creator</span></h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
          <div class="bg-[#1f1f1f] p-8 rounded-xl text-center border border-gray-800">
            <div class="text-5xl font-bold text-[#1DB954]">127K</div>
            <p class="text-gray-400 mt-2">Total Streams</p>
          </div>
          <div class="bg-[#1f1f1f] p-8 rounded-xl text-center border border-gray-800">
            <div class="text-5xl font-bold text-[#1DB954]">MK 220,000</div>
            <p class="text-gray-400 mt-2">Earnings</p>
          </div>
          <div class="bg-[#1f1f1f] p-8 rounded-xl text-center border border-gray-800">
            <button onclick="showPage('upload')" class="w-full btn-primary text-lg">
              <i class="fas fa-upload mr-2"></i> Upload Track
            </button>
          </div>
        </div>
        <h3 class="text-2xl font-bold mb-6">Your Tracks</h3>
        <div class="space-y-6">
          <div class="bg-[#1f1f1f] p-6 rounded-xl flex justify-between items-center border border-gray-800 hover:border-[#1DB954] transition">
            <div class="flex items-center gap-4">
              <img src="https://via.placeholder.com/300x300/1DB954/000000?text=Cigarette" alt="Cigarette" class="w-16 h-16 rounded-lg">
              <div>
                <p class="font-bold text-lg">Cigarette</p>
                <p class="text-sm text-gray-400">89.2K streams • MK 178,000 earned</p>
              </div>
            </div>
            <button onclick="playTrack('Cigarette', 'Onesimus', 'https://via.placeholder.com/300x300/1DB954/000000?text=Cigarette', 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3')" class="text-[#1DB954] font-bold">
              <i class="fas fa-play"></i> Play
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Listener Dashboard with Playlists -->
    <div id="listener-dashboard" class="page hidden">
      <div class="container mx-auto p-6 max-w-6xl">
        <div class="flex justify-between items-center mb-8">
          <h2 class="text-4xl font-bold">Your Playlists</h2>
          <button onclick="showCreatePlaylistModal()" class="btn-primary">
            <i class="fas fa-plus mr-2"></i> New Playlist
          </button>
        </div>

        <div id="playlists-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <!-- Playlists will be injected here -->
        </div>

        <p id="no-playlists" class="text-gray-400 text-center py-10 hidden">
          No playlists yet. <a href="#" onclick="showPage('home')" class="text-[#1DB954] hover:underline">Discover music →</a>
        </p>
      </div>
    </div>

    <!-- Upload Page -->
    <div id="upload" class="page hidden">
      <div class="flex items-center justify-center min-h-screen bg-gradient-to-br from-[#121212] to-[#0a0a0a]">
        <div class="bg-[#1f1f1f] p-10 rounded-2xl w-full max-w-xl shadow-2xl border border-gray-800">
          <h1 class="text-3xl font-bold mb-8 text-[#1DB954] text-center">
            <i class="fas fa-cloud-upload-alt mr-2"></i> Upload Your Track
          </h1>
          <form onsubmit="uploadTrack(event)" class="space-y-6">
            <input type="text" id="track-title" placeholder="Track Title" required class="w-full p-4 bg-gray-900 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#1DB954]">
            <input type="text" id="track-genre" placeholder="Genre (e.g. Afrobeat, Bongo)" class="w-full p-4 bg-gray-900 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#1DB954]">
            <div class="space-y-4">
              <label class="block text-sm font-medium text-gray-400">Audio File (MP3)</label>
              <input type="file" id="audio-file" accept="audio/*" required class="w-full p-4 bg-gray-900 rounded-lg text-white file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-[#1DB954] file:text-black hover:file:bg-[#1ed760]">
            </div>
            <div class="space-y-4">
              <label class="block text-sm font-medium text-gray-400">Cover Art (JPG/PNG)</label>
              <input type="file" id="cover-file" accept="image/*" required class="w-full p-4 bg-gray-900 rounded-lg text-white file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-[#1DB954] file:text-black hover:file:bg-[#1ed760]">
            </div>
            <button type="submit" class="w-full btn-primary text-lg font-bold">
              Upload & Publish
            </button>
          </form>
        </div>
      </div>
    </div>

    <!-- Player Modal -->
    <div id="player" class="page hidden fixed inset-0 bg-black bg-opacity-95 flex items-center justify-center z-50 p-6">
      <div class="max-w-md w-full bg-[#1f1f1f] rounded-2xl shadow-2xl overflow-hidden">
        <img id="player-cover" src="" alt="cover" class="w-full h-64 object-cover">
        <div class="p-8">
          <h1 id="player-title" class="text-2xl font-bold mb-2"></h1>
          <p id="player-artist" class="text-lg text-gray-400 mb-6"></p>
          <audio id="audio-player" controls autoplay class="w-full mb-6">
            <source id="audio-source" src="" type="audio/mpeg">
            Your browser does not support audio.
          </audio>
          <button onclick="showPage('home')" class="w-full bg-gray-800 text-white py-3 rounded-lg hover:bg-gray-700 transition">
            <i class="fas fa-arrow-left mr-2"></i> Back to Home
          </button>
        </div>
      </div>
    </div>

    <!-- Search Page -->
    <div id="search" class="page hidden">
      <div class="container mx-auto p-6 max-w-6xl">
        <h2 class="text-4xl font-bold mb-8">Search Music</h2>
        <input type="text" id="search-input" placeholder="Search songs, artists, genres..." class="w-full p-4 mb-8 bg-gray-900 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#1DB954] text-lg">
        <div id="search-results" class="grid grid-cols-1 md:grid-cols-3 gap-6"></div>
      </div>
    </div>

    <!-- MODALS -->

    <!-- Create Playlist Modal -->
    <div id="create-playlist-modal" class="modal hidden">
      <div class="modal-content">
        <h3 class="text-2xl font-bold mb-6 text-[#1DB954]">Create Playlist</h3>
        <form onsubmit="createPlaylist(event)">
          <input type="text" id="playlist-name" placeholder="Playlist Name" required class="w-full p-4 mb-4 bg-gray-900 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#1DB954]">
          <textarea id="playlist-desc" placeholder="Description (optional)" class="w-full p-4 mb-6 bg-gray-900 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#1DB954] h-24 resize-none"></textarea>
          <div class="flex gap-3">
            <button type="submit" class="flex-1 btn-primary">Create</button>
            <button type="button" onclick="closeModal('create-playlist-modal')" class="flex-1 bg-gray-700 text-white py-3 rounded-lg hover:bg-gray-600">Cancel</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Add to Playlist Modal -->
    <div id="add-to-playlist-modal" class="modal hidden">
      <div class="modal-content">
        <h3 class="text-2xl font-bold mb-6 text-[#1DB954]">Add to Playlist</h3>
        <p class="text-sm text-gray-400 mb-4">Select a playlist to add "<span id="add-track-title"></span>"</p>
        <div id="playlist-options" class="space-y-2 mb-6 max-h-64 overflow-y-auto"></div>
        <button onclick="closeModal('add-to-playlist-modal')" class="w-full bg-gray-700 text-white py-3 rounded-lg hover:bg-gray-600">Close</button>
      </div>
    </div>

    <!-- Playlist View Modal -->
    <div id="playlist-view-modal" class="modal hidden">
      <div class="modal-content w-full max-w-2xl">
        <div class="flex justify-between items-center mb-6">
          <h3 id="view-playlist-name" class="text-2xl font-bold text-[#1DB954]"></h3>
          <button onclick="closeModal('playlist-view-modal')" class="text-gray-400 hover:text-white">
            <i class="fas fa-times text-xl"></i>
          </button>
        </div>
        <p id="view-playlist-desc" class="text-gray-400 mb-6"></p>
        <div id="playlist-tracks" class="space-y-3"></div>
        <button onclick="deletePlaylist(currentPlaylistId)" class="mt-6 w-full bg-red-600 text-white py-3 rounded-lg hover:bg-red-700">
          Delete Playlist
        </button>
      </div>
    </div>

  </div>

  <!-- Footer -->
  <footer class="bg-black py-10 text-center text-gray-500 text-sm border-t border-gray-800 mt-20">
    <p class="mb-2">© 2025 <strong>Tisaundike</strong>. All rights reserved.</p>
    <p>
      Made with <i class="fas fa-heart text-red-500"></i> in <strong>Blantyre, Malawi</strong> by 
      <a href="#" class="text-[#1DB954] hover:underline font-medium">Dynamité Mw</a>
    </p>
    <p class="mt-4">
      <a href="#" class="hover:text-white mx-2">Terms</a> • 
      <a href="#" class="hover:text-white mx-2">Privacy</a> • 
      <a href="#" class="hover:text-white mx-2">Support</a>
    </p>
  </footer>

  <!-- JavaScript -->
  <script>
    let currentUser = null;
    let playlists = JSON.parse(localStorage.getItem('tisaundike_playlists')) || [];
    let currentTrackToAdd = null;
    let currentPlaylistId = null;

    // Load playlists on start
    document.addEventListener('DOMContentLoaded', () => {
      updateAuthUI();
      showPage('home');
      renderPlaylists();
    });

    function showPage(pageId) {
      document.querySelectorAll('.page').forEach(p => p.classList.add('hidden'));
      const page = document.getElementById(pageId);
      page.classList.remove('hidden');
      page.classList.add('fade-in');
      if (pageId === 'home') window.scrollTo(0, 0);
      if (pageId === 'listener-dashboard') renderPlaylists();
    }

    function showDashboard() {
      if (!currentUser) return showPage('login');
      showPage(currentUser.role + '-dashboard');
      if (currentUser.role === 'listener') renderPlaylists();
      if (currentUser.role === 'creator') document.getElementById('creator-name').textContent = currentUser.name;
    }

    function register(e) {
      e.preventDefault();
      const name = document.getElementById('reg-name').value;
      const email = document.getElementById('reg-email').value;
      const role = document.querySelector('input[name="role"]:checked').value;
      currentUser = { name, email, role };
      updateAuthUI();
      saveUser();
      alert(`Welcome, ${name}! Your ${role} account is ready. Let your sound rise.`);
      showDashboard();
    }

    function login(e) {
      e.preventDefault();
      const email = document.getElementById('login-email').value;
      currentUser = { name: email.split('@')[0], email, role: 'listener' };
      updateAuthUI();
      saveUser();
      alert('Welcome back! Your music awaits.');
      showPage('home');
    }

    function logout() {
      currentUser = null;
      updateAuthUI();
      localStorage.removeItem('tisaundike_user');
      alert('Logged out. See you soon!');
      showPage('home');
    }

    function saveUser() {
      localStorage.setItem('tisaundike_user', JSON.stringify(currentUser));
    }

    function updateAuthUI() {
      const loggedIn = !!currentUser;
      document.getElementById('login-link').classList.toggle('hidden', loggedIn);
      document.getElementById('register-link').classList.toggle('hidden', loggedIn);
      document.getElementById('dashboard-link').classList.toggle('hidden', !loggedIn);
      document.getElementById('logout-link').classList.toggle('hidden', !loggedIn);
    }

    // === PLAYLIST FUNCTIONS ===

    function showCreatePlaylistModal() {
      if (!currentUser) return alert('Please log in to create playlists.');
      document.getElementById('create-playlist-modal').classList.remove('hidden');
    }

    function createPlaylist(e) {
      e.preventDefault();
      const name = document.getElementById('playlist-name').value.trim();
      const desc = document.getElementById('playlist-desc').value.trim();
      if (!name) return;

      const playlist = {
        id: Date.now().toString(),
        name,
        description: desc,
        tracks: [],
        createdAt: new Date().toISOString()
      };

      playlists.push(playlist);
      savePlaylists();
      closeModal('create-playlist-modal');
      renderPlaylists();
      alert(`Playlist "${name}" created!`);
    }

    function showAddToPlaylistModal(title, artist, cover, audio) {
      if (!currentUser) return alert('Please log in to add to playlists.');
      currentTrackToAdd = { title, artist, cover, audio };
      document.getElementById('add-track-title').textContent = title;
      const container = document.getElementById('playlist-options');
      container.innerHTML = '';

      if (playlists.length === 0) {
        container.innerHTML = '<p class="text-gray-400 text-center">No playlists yet. Create one first!</p>';
      } else {
        playlists.forEach(p => {
          const div = document.createElement('div');
          div.className = 'flex items-center justify-between p-3 bg-gray-800 rounded-lg hover:bg-gray-700 cursor-pointer';
          div.innerHTML = `
            <span class="font-medium">${p.name}</span>
            <span class="text-xs text-gray-400">${p.tracks.length} tracks</span>
          `;
          div.onclick = () => addTrackToPlaylist(p.id);
          container.appendChild(div);
        });
      }

      document.getElementById('add-to-playlist-modal').classList.remove('hidden');
    }

    function addTrackToPlaylist(playlistId) {
      const playlist = playlists.find(p => p.id === playlistId);
      if (!playlist) return;

      const exists = playlist.tracks.some(t => t.title === currentTrackToAdd.title && t.artist === currentTrackToAdd.artist);
      if (exists) {
        alert('Track already in playlist!');
        return;
      }

      playlist.tracks.push(currentTrackToAdd);
      savePlaylists();
      closeModal('add-to-playlist-modal');
      alert(`Added to "${playlist.name}"!`);
    }

    function renderPlaylists() {
      const container = document.getElementById('playlists-container');
      const noMsg = document.getElementById('no-playlists');
      if (!container) return;

      if (playlists.length === 0) {
        container.innerHTML = '';
        noMsg.classList.remove('hidden');
        return;
      }

      noMsg.classList.add('hidden');
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tisaundike — Let Your Sound Rise</title>
  <meta name="description" content="Tisaundike: Create playlists, upload music, earn from streams. Blantyre-born. Malawian-powered.">
  
  <!-- Tailwind CSS -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <!-- Inter Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

  <style>
    :root {
      --green: #1DB954;
      --dark: #121212;
      --card: #1f1f1f;
      --text: #ffffff;
      --gray: #b3b3b3;
    }
    body {
      font-family: 'Inter', sans-serif;
      background: var(--dark);
      color: var(--text);
      line-height: 1.6;
      overflow-x: hidden;
    }
    .gradient-hero {
      background: linear-gradient(135deg, #1DB954 0%, #0a3d1e 50%, #121212 100%);
    }
    .btn-primary {
      @apply bg-[#1DB954] text-black font-bold px-6 py-3 rounded-full hover:bg-[#1ed760] transition transform hover:scale-105;
    }
    .btn-outline {
      @apply border-2 border-[#1DB954] text-[#1DB954] font-bold px-6 py-3 rounded-full hover:bg-[#1DB954] hover:text-black transition transform hover:scale-105;
    }
    .btn-sm {
      @apply text-sm px-3 py-1 rounded-full;
    }
    .card {
      @apply bg-[#1f1f1f] p-5 rounded-xl hover:bg-[#2a2a2a] transition-all duration-300 cursor-pointer transform hover:-translate-y-1 shadow-lg border border-gray-800;
    }
    .nav-link {
      @apply text-white hover:text-[#1DB954] font-medium transition;
    }
    .hidden { display: none; }
    .fade-in { animation: fadeIn 0.6s ease-in-out; }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .pulse-green { animation: pulse 2s infinite; }
    @keyframes pulse {
      0%, 100% { box-shadow: 0 0 0 0 rgba(29, 185, 84, 0.4); }
      70% { box-shadow: 0 0 0 10px rgba(29, 185, 84, 0); }
    }
    .founder-img {
      border: 3px solid #1DB954;
      box-shadow: 0 0 20px rgba(29, 185, 84, 0.3);
    }
    .modal {
      @apply fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-6;
    }
    .modal-content {
      @apply bg-[#1f1f1f] p-8 rounded-2xl w-full max-w-md shadow-2xl border border-gray-700;
    }
  </style>
</head>
<body class="min-h-screen">

  <!-- Navigation -->
  <nav class="fixed top-0 w-full bg-black bg-opacity-95 backdrop-blur-lg z-50 border-b border-gray-800">
    <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
      <h1 class="text-2xl font-bold text-[#1DB954] flex items-center">
        <i class="fas fa-music mr-2"></i> Tisaundike
      </h1>
      <div class="flex items-center space-x-8">
        <a href="#" onclick="showPage('home')" class="nav-link">Home</a>
        <a href="#" onclick="showPage('search')" class="nav-link">Search</a>
        <a href="#" id="dashboard-link" onclick="showDashboard()" class="nav-link hidden">Dashboard</a>
        <a href="#" onclick="showPage('login')" id="login-link" class="nav-link">Login</a>
        <a href="#" onclick="showPage('register')" id="register-link" class="nav-link hidden">Register</a>
        <a href="#" onclick="logout()" id="logout-link" class="nav-link hidden text-red-400 flex items-center">
          <i class="fas fa-sign-out-alt mr-1"></i> Logout
        </a>
      </div>
    </div>
  </nav>

  <!-- Page Container -->
  <div id="page-container" class="pt-20">

    <!-- Home Page -->
    <div id="home" class="page fade-in">
      <!-- Hero -->
      <section class="gradient-hero py-24 text-center relative overflow-hidden">
        <div class="absolute inset-0 opacity-10">
          <div class="absolute top-10 left-10 w-64 h-64 bg-green-400 rounded-full blur-3xl animate-pulse"></div>
          <div class="absolute bottom-10 right-10 w-80 h-80 bg-green-600 rounded-full blur-3xl animate-pulse delay-1000"></div>
        </div>
        <div class="max-w-5xl mx-auto px-6 relative z-10">
          <h1 class="text-5xl md:text-7xl font-extrabold mb-6 leading-tight">
            Let Your <span class="text-[#1ed760]">Sound</span><br>
            <span class="text-white">Rise</span>
          </h1>
          <p class="text-xl md:text-2xl mb-10 text-gray-200 max-w-3xl mx-auto leading-relaxed">
            Tisaundike — <em>"Let it sound"</em> in Chichewa. A platform born in Blantyre to empower Malawian creators. 
            Stream. Upload. Earn. Own your voice.
          </p>
          <div class="flex flex-col sm:flex-row gap-6 justify-center">
            <button onclick="showPage('register')" class="btn-primary text-lg">
              <i class="fas fa-headphones mr-2"></i> Start Listening
            </button>
            <button onclick="showPage('register')" class="btn-outline text-lg">
              <i class="fas fa-microphone mr-2"></i> Become a Creator
            </button>
          </div>
        </div>
      </section>

      <!-- Top Tracks -->
      <section class="py-20 bg-[#121212]">
        <div class="max-w-7xl mx-auto px-6">
          <h2 class="text-4xl font-bold mb-12 text-center">Top Tracks This Week</h2>
          <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
            <!-- Track 1 -->
            <div class="card group" onclick="playTrack('Cigarette', 'Onesimus', 'https://via.placeholder.com/300x300/1DB954/000000?text=Cigarette', 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3')">
              <div class="relative">
                <img src="https://via.placeholder.com/300x300/1DB954/000000?text=Cigarette" alt="Cigarette" class="w-full h-48 object-cover rounded-lg mb-4">
                <button onclick="event.stopPropagation(); showAddToPlaylistModal('Cigarette', 'Onesimus', 'https://via.placeholder.com/300x300/1DB954/000000?text=Cigarette', 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3')" class="absolute top-2 right-2 bg-black bg-opacity-70 p-2 rounded-full opacity-0 group-hover:opacity-100 transition">
                  <i class="fas fa-plus text-white"></i>
                </button>
              </div>
              <h3 class="font-bold text-lg">Cigarette</h3>
              <p class="text-sm text-gray-400">Onesimus • 89.2K streams</p>
            </div>
            <!-- Track 2 -->
            <div class="card group" onclick="playTrack('Ayi (Bad Energy)', '6th Mw ft. Brainlock T-kas', 'https://via.placeholder.com/300x300/FF4B6B/000000?text=Ayi', 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3')">
              <div class="relative">
                <img src="https://via.placeholder.com/300x300/FF4B6B/000000?text=Ayi" alt="Ayi (Bad Energy)" class="w-full h-48 object-cover rounded-lg mb-4">
                <button onclick="event.stopPropagation(); showAddToPlaylistModal('Ayi (Bad Energy)', '6th Mw ft. Brainlock T-kas', 'https://via.placeholder.com/300x300/FF4B6B/000000?text=Ayi', 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3')" class="absolute top-2 right-2 bg-black bg-opacity-70 p-2 rounded-full opacity-0 group-hover:opacity-100 transition">
                  <i class="fas fa-plus text-white"></i>
                </button>
              </div>
              <h3 class="font-bold text-lg">Ayi (Bad Energy)</h3>
              <p class="text-sm text-gray-400">6th Mw ft. Brainlock T-kas • 72.5K streams</p>
            </div>
            <!-- Track 3 -->
            <div class="card group" onclick="playTrack('Lonjezo', 'Hyphen ft. Saint', 'https://via.placeholder.com/300x300/4B6BFF/000000?text=Lonjezo', 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3')">
              <div class="relative">
                <img src="https://via.placeholder.com/300x300/4B6BFF/000000?text=Lonjezo" alt="Lonjezo" class="w-full h-48 object-cover rounded-lg mb-4">
                <button onclick="event.stopPropagation(); showAddToPlaylistModal('Lonjezo', 'Hyphen ft. Saint', 'https://via.placeholder.com/300x300/4B6BFF/000000?text=Lonjezo', 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3')" class="absolute top-2 right-2 bg-black bg-opacity-70 p-2 rounded-full opacity-0 group-hover:opacity-100 transition">
                  <i class="fas fa-plus text-white"></i>
                </button>
              </div>
              <h3 class="font-bold text-lg">Lonjezo</h3>
              <p class="text-sm text-gray-400">Hyphen ft. Saint • 105K streams</p>
            </div>
            <!-- Track 4 -->
            <div class="card group" onclick="playTrack('Ndife', 'Rashley', 'https://via.placeholder.com/300x300/FFD700/000000?text=Ndife', 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3')">
              <div class="relative">
                <img src="https://via.placeholder.com/300x300/FFD700/000000?text=Ndife" alt="Ndife" class="w-full h-48 object-cover rounded-lg mb-4">
                <button onclick="event.stopPropagation(); showAddToPlaylistModal('Ndife', 'Rashley', 'https://via.placeholder.com/300x300/FFD700/000000?text=Ndife', 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3')" class="absolute top-2 right-2 bg-black bg-opacity-70 p-2 rounded-full opacity-0 group-hover:opacity-100 transition">
                  <i class="fas fa-plus text-white"></i>
                </button>
              </div>
              <h3 class="font-bold text-lg">Ndife</h3>
              <p class="text-sm text-gray-400">Rashley • 64.8K streams</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Founder -->
      <section class="py-20 bg-gradient-to-b from-[#121212] to-black">
        <div class="max-w-6xl mx-auto px-6 text-center">
          <h2 class="text-4xl font-bold mb-12">Built with Love in Blantyre</h2>
          <div class="flex flex-col md:flex-row items-center justify-center gap-10">
            <img src="https://via.placeholder.com/200x200/1DB954/000000?text=Dynamite" alt="Dynamité Mw" class="w-48 h-48 rounded-full object-cover founder-img pulse-green">
            <div class="text-left max-w-lg">
              <h3 class="text-2xl font-bold text-[#1DB954] mb-3">Dynamité Mw</h3>
              <p class="text-lg text-gray-300 mb-4">
                <em>"Every playlist tells a story. Every artist deserves a stage. Tisaundike is for the dreamers of Blantyre and beyond."</em>
              </p>
              <p class="text-gray-400">
                Founder & CEO • Blantyre, Malawi<br>
                <a href="#" class="text-[#1DB954] hover:underline">@dynamitemw</a> on X
              </p>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- Register Page -->
    <div id="register" class="page hidden">
      <div class="flex items-center justify-center min-h-screen bg-gradient-to-br from-[#121212] to-[#0a0a0a]">
        <div class="bg-[#1f1f1f] p-10 rounded-2xl w-full max-w-md shadow-2xl border border-gray-800">
          <h1 class="text-3xl font-bold mb-8 text-[#1DB954] text-center">
            <i class="fas fa-user-plus mr-2"></i> Join Tisaundike
          </h1>
          <form onsubmit="register(event)" class="space-y-5">
            <input type="text" id="reg-name" placeholder="Your Name" required class="w-full p-4 bg-gray-900 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#1DB954]">
            <input type="email" id="reg-email" placeholder="Email Address" required class="w-full p-4 bg-gray-900 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#1DB954]">
            <input type="password" id="reg-password" placeholder="Create Password" required class="w-full p-4 bg-gray-900 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#1DB954]">
            <div class="flex gap-6 text-white text-sm">
              <label class="flex items-center">
                <input type="radio" name="role" value="listener" checked class="mr-2"> 
                <i class="fas fa-headphones mr-1"></i> Listener
              </label>
              <label class="flex items-center">
                <input type="radio" name="role" value="creator" class="mr-2"> 
                <i class="fas fa-microphone mr-1"></i> Creator
              </label>
            </div>
            <button type="submit" class="w-full btn-primary text-lg font-bold">
              Create Account
            </button>
          </form>
          <p class="mt-6 text-center text-gray-400">
            Already have an account? 
            <a href="#" onclick="showPage('login')" class="text-[#1DB954] hover:underline font-medium">Login</a>
          </p>
        </div>
      </div>
    </div>

    <!-- Login Page -->
    <div id="login" class="page hidden">
      <div class="flex items-center justify-center min-h-screen bg-gradient-to-br from-[#121212] to-[#0a0a0a]">
        <div class="bg-[#1f1f1f] p-10 rounded-2xl w-full max-w-md shadow-2xl border border-gray-800">
          <h1 class="text-3xl font-bold mb-8 text-[#1DB954] text-center">
            <i class="fas fa-sign-in-alt mr-2"></i> Welcome Back
          </h1>
          <form onsubmit="login(event)" class="space-y-5">
            <input type="email" id="login-email" placeholder="Email" required class="w-full p-4 bg-gray-900 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#1DB954]">
            <input type="password" id="login-password" placeholder="Password" required class="w-full p-4 bg-gray-900 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#1DB954]">
            <button type="submit" class="w-full btn-primary text-lg font-bold">
              Login
            </button>
          </form>
          <p class="mt-6 text-center text-gray-400">
            No account? 
            <a href="#" onclick="showPage('register')" class="text-[#1DB954] hover:underline font-medium">Register</a>
          </p>
        </div>
      </div>
    </div>

    <!-- Creator Dashboard -->
    <div id="creator-dashboard" class="page hidden">
      <div class="container mx-auto p-6 max-w-6xl">
        <h2 class="text-4xl font-bold mb-8">Welcome back, <span id="creator-name" class="text-[#1DB954]">Creator</span></h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
          <div class="bg-[#1f1f1f] p-8 rounded-xl text-center border border-gray-800">
            <div class="text-5xl font-bold text-[#1DB954]">127K</div>
            <p class="text-gray-400 mt-2">Total Streams</p>
          </div>
          <div class="bg-[#1f1f1f] p-8 rounded-xl text-center border border-gray-800">
            <div class="text-5xl font-bold text-[#1DB954]">MK 220,000</div>
            <p class="text-gray-400 mt-2">Earnings</p>
          </div>
          <div class="bg-[#1f1f1f] p-8 rounded-xl text-center border border-gray-800">
            <button onclick="showPage('upload')" class="w-full btn-primary text-lg">
              <i class="fas fa-upload mr-2"></i> Upload Track
            </button>
          </div>
        </div>
        <h3 class="text-2xl font-bold mb-6">Your Tracks</h3>
        <div class="space-y-6">
          <div class="bg-[#1f1f1f] p-6 rounded-xl flex justify-between items-center border border-gray-800 hover:border-[#1DB954] transition">
            <div class="flex items-center gap-4">
              <img src="https://via.placeholder.com/300x300/1DB954/000000?text=Cigarette" alt="Cigarette" class="w-16 h-16 rounded-lg">
              <div>
                <p class="font-bold text-lg">Cigarette</p>
                <p class="text-sm text-gray-400">89.2K streams • MK 178,000 earned</p>
              </div>
            </div>
            <button onclick="playTrack('Cigarette', 'Onesimus', 'https://via.placeholder.com/300x300/1DB954/000000?text=Cigarette', 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3')" class="text-[#1DB954] font-bold">
              <i class="fas fa-play"></i> Play
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Listener Dashboard with Playlists -->
    <div id="listener-dashboard" class="page hidden">
      <div class="container mx-auto p-6 max-w-6xl">
        <div class="flex justify-between items-center mb-8">
          <h2 class="text-4xl font-bold">Your Playlists</h2>
          <button onclick="showCreatePlaylistModal()" class="btn-primary">
            <i class="fas fa-plus mr-2"></i> New Playlist
          </button>
        </div>

        <div id="playlists-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <!-- Playlists will be injected here -->
        </div>

        <p id="no-playlists" class="text-gray-400 text-center py-10 hidden">
          No playlists yet. <a href="#" onclick="showPage('home')" class="text-[#1DB954] hover:underline">Discover music →</a>
        </p>
      </div>
    </div>

    <!-- Upload Page -->
    <div id="upload" class="page hidden">
      <div class="flex items-center justify-center min-h-screen bg-gradient-to-br from-[#121212] to-[#0a0a0a]">
        <div class="bg-[#1f1f1f] p-10 rounded-2xl w-full max-w-xl shadow-2xl border border-gray-800">
          <h1 class="text-3xl font-bold mb-8 text-[#1DB954] text-center">
            <i class="fas fa-cloud-upload-alt mr-2"></i> Upload Your Track
          </h1>
          <form onsubmit="uploadTrack(event)" class="space-y-6">
            <input type="text" id="track-title" placeholder="Track Title" required class="w-full p-4 bg-gray-900 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#1DB954]">
            <input type="text" id="track-genre" placeholder="Genre (e.g. Afrobeat, Bongo)" class="w-full p-4 bg-gray-900 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#1DB954]">
            <div class="space-y-4">
              <label class="block text-sm font-medium text-gray-400">Audio File (MP3)</label>
              <input type="file" id="audio-file" accept="audio/*" required class="w-full p-4 bg-gray-900 rounded-lg text-white file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-[#1DB954] file:text-black hover:file:bg-[#1ed760]">
            </div>
            <div class="space-y-4">
              <label class="block text-sm font-medium text-gray-400">Cover Art (JPG/PNG)</label>
              <input type="file" id="cover-file" accept="image/*" required class="w-full p-4 bg-gray-900 rounded-lg text-white file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-[#1DB954] file:text-black hover:file:bg-[#1ed760]">
            </div>
            <button type="submit" class="w-full btn-primary text-lg font-bold">
              Upload & Publish
            </button>
          </form>
        </div>
      </div>
    </div>

    <!-- Player Modal -->
    <div id="player" class="page hidden fixed inset-0 bg-black bg-opacity-95 flex items-center justify-center z-50 p-6">
      <div class="max-w-md w-full bg-[#1f1f1f] rounded-2xl shadow-2xl overflow-hidden">
        <img id="player-cover" src="" alt="cover" class="w-full h-64 object-cover">
        <div class="p-8">
          <h1 id="player-title" class="text-2xl font-bold mb-2"></h1>
          <p id="player-artist" class="text-lg text-gray-400 mb-6"></p>
          <audio id="audio-player" controls autoplay class="w-full mb-6">
            <source id="audio-source" src="" type="audio/mpeg">
            Your browser does not support audio.
          </audio>
          <button onclick="showPage('home')" class="w-full bg-gray-800 text-white py-3 rounded-lg hover:bg-gray-700 transition">
            <i class="fas fa-arrow-left mr-2"></i> Back to Home
          </button>
        </div>
      </div>
    </div>

    <!-- Search Page -->
    <div id="search" class="page hidden">
      <div class="container mx-auto p-6 max-w-6xl">
        <h2 class="text-4xl font-bold mb-8">Search Music</h2>
        <input type="text" id="search-input" placeholder="Search songs, artists, genres..." class="w-full p-4 mb-8 bg-gray-900 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#1DB954] text-lg">
        <div id="search-results" class="grid grid-cols-1 md:grid-cols-3 gap-6"></div>
      </div>
    </div>

    <!-- MODALS -->

    <!-- Create Playlist Modal -->
    <div id="create-playlist-modal" class="modal hidden">
      <div class="modal-content">
        <h3 class="text-2xl font-bold mb-6 text-[#1DB954]">Create Playlist</h3>
        <form onsubmit="createPlaylist(event)">
          <input type="text" id="playlist-name" placeholder="Playlist Name" required class="w-full p-4 mb-4 bg-gray-900 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#1DB954]">
          <textarea id="playlist-desc" placeholder="Description (optional)" class="w-full p-4 mb-6 bg-gray-900 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#1DB954] h-24 resize-none"></textarea>
          <div class="flex gap-3">
            <button type="submit" class="flex-1 btn-primary">Create</button>
            <button type="button" onclick="closeModal('create-playlist-modal')" class="flex-1 bg-gray-700 text-white py-3 rounded-lg hover:bg-gray-600">Cancel</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Add to Playlist Modal -->
    <div id="add-to-playlist-modal" class="modal hidden">
      <div class="modal-content">
        <h3 class="text-2xl font-bold mb-6 text-[#1DB954]">Add to Playlist</h3>
        <p class="text-sm text-gray-400 mb-4">Select a playlist to add "<span id="add-track-title"></span>"</p>
        <div id="playlist-options" class="space-y-2 mb-6 max-h-64 overflow-y-auto"></div>
        <button onclick="closeModal('add-to-playlist-modal')" class="w-full bg-gray-700 text-white py-3 rounded-lg hover:bg-gray-600">Close</button>
      </div>
    </div>

    <!-- Playlist View Modal -->
    <div id="playlist-view-modal" class="modal hidden">
      <div class="modal-content w-full max-w-2xl">
        <div class="flex justify-between items-center mb-6">
          <h3 id="view-playlist-name" class="text-2xl font-bold text-[#1DB954]"></h3>
          <button onclick="closeModal('playlist-view-modal')" class="text-gray-400 hover:text-white">
            <i class="fas fa-times text-xl"></i>
          </button>
        </div>
        <p id="view-playlist-desc" class="text-gray-400 mb-6"></p>
        <div id="playlist-tracks" class="space-y-3"></div>
        <button onclick="deletePlaylist(currentPlaylistId)" class="mt-6 w-full bg-red-600 text-white py-3 rounded-lg hover:bg-red-700">
          Delete Playlist
        </button>
      </div>
    </div>

  </div>

  <!-- Footer -->
  <footer class="bg-black py-10 text-center text-gray-500 text-sm border-t border-gray-800 mt-20">
    <p class="mb-2">© 2025 <strong>Tisaundike</strong>. All rights reserved.</p>
    <p>
      Made with <i class="fas fa-heart text-red-500"></i> in <strong>Blantyre, Malawi</strong> by 
      <a href="#" class="text-[#1DB954] hover:underline font-medium">Dynamité Mw</a>
    </p>
    <p class="mt-4">
      <a href="#" class="hover:text-white mx-2">Terms</a> • 
      <a href="#" class="hover:text-white mx-2">Privacy</a> • 
      <a href="#" class="hover:text-white mx-2">Support</a>
    </p>
  </footer>

  <!-- JavaScript -->
  <script>
    let currentUser = null;
    let playlists = JSON.parse(localStorage.getItem('tisaundike_playlists')) || [];
    let currentTrackToAdd = null;
    let currentPlaylistId = null;

    // Load playlists on start
    document.addEventListener('DOMContentLoaded', () => {
      updateAuthUI();
      showPage('home');
      renderPlaylists();
    });

    function showPage(pageId) {
      document.querySelectorAll('.page').forEach(p => p.classList.add('hidden'));
      const page = document.getElementById(pageId);
      page.classList.remove('hidden');
      page.classList.add('fade-in');
      if (pageId === 'home') window.scrollTo(0, 0);
      if (pageId === 'listener-dashboard') renderPlaylists();
    }

    function showDashboard() {
      if (!currentUser) return showPage('login');
      showPage(currentUser.role + '-dashboard');
      if (currentUser.role === 'listener') renderPlaylists();
      if (currentUser.role === 'creator') document.getElementById('creator-name').textContent = currentUser.name;
    }

    function register(e) {
      e.preventDefault();
      const name = document.getElementById('reg-name').value;
      const email = document.getElementById('reg-email').value;
      const role = document.querySelector('input[name="role"]:checked').value;
      currentUser = { name, email, role };
      updateAuthUI();
      saveUser();
      alert(`Welcome, ${name}! Your ${role} account is ready. Let your sound rise.`);
      showDashboard();
    }

    function login(e) {
      e.preventDefault();
      const email = document.getElementById('login-email').value;
      currentUser = { name: email.split('@')[0], email, role: 'listener' };
      updateAuthUI();
      saveUser();
      alert('Welcome back! Your music awaits.');
      showPage('home');
    }

    function logout() {
      currentUser = null;
      updateAuthUI();
      localStorage.removeItem('tisaundike_user');
      alert('Logged out. See you soon!');
      showPage('home');
    }

    function saveUser() {
      localStorage.setItem('tisaundike_user', JSON.stringify(currentUser));
    }

    function updateAuthUI() {
      const loggedIn = !!currentUser;
      document.getElementById('login-link').classList.toggle('hidden', loggedIn);
      document.getElementById('register-link').classList.toggle('hidden', loggedIn);
      document.getElementById('dashboard-link').classList.toggle('hidden', !loggedIn);
      document.getElementById('logout-link').classList.toggle('hidden', !loggedIn);
    }

    // === PLAYLIST FUNCTIONS ===

    function showCreatePlaylistModal() {
      if (!currentUser) return alert('Please log in to create playlists.');
      document.getElementById('create-playlist-modal').classList.remove('hidden');
    }

    function createPlaylist(e) {
      e.preventDefault();
      const name = document.getElementById('playlist-name').value.trim();
      const desc = document.getElementById('playlist-desc').value.trim();
      if (!name) return;

      const playlist = {
        id: Date.now().toString(),
        name,
        description: desc,
        tracks: [],
        createdAt: new Date().toISOString()
      };

      playlists.push(playlist);
      savePlaylists();
      closeModal('create-playlist-modal');
      renderPlaylists();
      alert(`Playlist "${name}" created!`);
    }

    function showAddToPlaylistModal(title, artist, cover, audio) {
      if (!currentUser) return alert('Please log in to add to playlists.');
      currentTrackToAdd = { title, artist, cover, audio };
      document.getElementById('add-track-title').textContent = title;
      const container = document.getElementById('playlist-options');
      container.innerHTML = '';

      if (playlists.length === 0) {
        container.innerHTML = '<p class="text-gray-400 text-center">No playlists yet. Create one first!</p>';
      } else {
        playlists.forEach(p => {
          const div = document.createElement('div');
          div.className = 'flex items-center justify-between p-3 bg-gray-800 rounded-lg hover:bg-gray-700 cursor-pointer';
          div.innerHTML = `
            <span class="font-medium">${p.name}</span>
            <span class="text-xs text-gray-400">${p.tracks.length} tracks</span>
          `;
          div.onclick = () => addTrackToPlaylist(p.id);
          container.appendChild(div);
        });
      }

      document.getElementById('add-to-playlist-modal').classList.remove('hidden');
    }

    function addTrackToPlaylist(playlistId) {
      const playlist = playlists.find(p => p.id === playlistId);
      if (!playlist) return;

      const exists = playlist.tracks.some(t => t.title === currentTrackToAdd.title && t.artist === currentTrackToAdd.artist);
      if (exists) {
        alert('Track already in playlist!');
        return;
      }

      playlist.tracks.push(currentTrackToAdd);
      savePlaylists();
      closeModal('add-to-playlist-modal');
      alert(`Added to "${playlist.name}"!`);
    }

    function renderPlaylists() {
      const container = document.getElementById('playlists-container');
      const noMsg = document.getElementById('no-playlists');
      if (!container) return;

      if (playlists.length === 0) {
        container.innerHTML = '';
        noMsg.classList.remove('hidden');
        return;
      }

      noMsg.classList.add('hidden');
      container.innerHTML = playlists.map(p => `
        <div class="card" onclick="viewPlaylist('${p.id}')">
          <div class="bg-gradient-to-br from-[#1DB954] to-[#0a3d1e] h-32 rounded-t-xl flex items-center justify-center">
            <i class="fas fa-music text-4xl text-white opacity-50"></i>
          </div>
          <div class="p-4">
            <h3 class="font-bold text-lg">${p.name}</h3>
            <p class="text-sm text-gray-400">${p.tracks.length} tracks</p>
            ${p.description ? `<p class="text-xs text-gray-500 mt-1">${p.description}</p>` : ''}
          </div>
        </div>
      `).join('');
    }

    function viewPlaylist(id) {
      const playlist = playlists.find(p => p.id === id);
      if (!playlist) return;

      currentPlaylistId = id;
      document.getElementById('view-playlist-name').textContent = playlist.name;
      document.getElementById('view-playlist-desc').textContent = playlist.description || 'No description';

      const tracksDiv = document.getElementById('playlist-tracks');
      if (playlist.tracks.length === 0) {
        tracksDiv.innerHTML = '<p class="text-gray-400 text-center py-8">No tracks yet. Add some!</p>';
      } else {
        tracksDiv.innerHTML = playlist.tracks.map((t, i) => `
          <div class="flex items-center justify-between p-3 bg-gray-800 rounded-lg hover:bg-gray-700">
            <div class="flex items-center gap-3">
              <span class="text-gray-500 text-sm w-6">${i + 1}</span>
              <div>
                <p class="font-medium">${t.title}</p>
                <p class="text-xs text-gray-400">${t.artist}</p>
              </div>
            </div>
            <button onclick="event.stopPropagation(); playTrack('${t.title}', '${t.artist}', '${t.cover}', '${t.audio}')" class="text-[#1DB954]">
              <i class="fas fa-play"></i>
            </button>
          </div>
        `).join('');
      }

      document.getElementById('playlist-view-modal').classList.remove('hidden');
    }

    function deletePlaylist(id) {
      if (!confirm('Delete this playlist? This cannot be undone.')) return;
      playlists = playlists.filter(p => p.id !== id);
      savePlaylists();
      closeModal('playlist-view-modal');
      renderPlaylists();
      alert('Playlist deleted.');
    }

    function savePlaylists() {
      localStorage.setItem('tisaundike_playlists', JSON.stringify(playlists));
    }

    function closeModal(id) {
      document.getElementById(id).classList.add('hidden');
    }

    function uploadTrack(e) {
      e.preventDefault();
      alert('Track uploaded successfully! It will appear in your dashboard soon.');
      showDashboard();
    }

    function playTrack(title, artist, cover, audio) {
      document.getElementById('player-title').textContent = title;
      document.getElementById('player-artist').textContent = artist;
      document.getElementById('player-cover').src = cover;
      document.getElementById('audio-source').src = audio;
      document.getElementById('audio-player').load();
      showPage('player');
    }

    // Search
    document.getElementById('search-input').addEventListener('input', function() {
      const q = this.value.toLowerCase();
      const results = document.getElementById('search-results');
      if (!q) {
        results.innerHTML = '<p class="text-gray-400 col-span-3">Type to search...</p>';
        return;
      }
      results.innerHTML = `
        <div class="card" onclick="playTrack('Cigarette', 'Onesimus', 'https://via.placeholder.com/300x300/1DB954/000000?text=Cigarette', 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3')">
          <img src="https://via.placeholder.com/300x300/1DB954/000000?text=Cigarette" class="w-full h-40 object-cover rounded-lg mb-3">
          <h3 class="font-bold">Cigarette</h3>
          <p class="text-sm text-gray-400">Onesimus</p>
        </div>`;
    });

    // Load user on start
    const savedUser = localStorage.getItem('tisaundike_user');
    if (savedUser) {
      currentUser = JSON.parse(savedUser);
      updateAuthUI();
    }
  </script>
</body>
</html>
